<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
    <link rel="stylesheet" href="../css/fw2020.css">
    
    
   <title>RbGateway - RubyGateway 6.1.0 docs</title>
    
  </head>
  <body class="j2-swift " data-root-path="./../" data-doc-path="types/rbgateway1.html" data-assets-path="../">

  <!-- messages for search -->
  <div hidden>
    <span id="text-loading">Loading index...</span>
    <span id="text-failed">Failed to load index</span>
    <span id="text-notfound">No matches</span>
  </div>

  <header class="j2-header">
  <div class="navbar navbar-expand navbar-dark j2-titlebar">
  <div class="container-fluid ps-0 pe-0">
  <a class="visually-hidden-focusable visually-hidden fw-slightly-bold pe-2" href="#main-content">Skip to main content</a>
  <a class="nav-item nav-link ps-0 pt-1 pe-2 d-md-none" id="nav-toggle-button" role="button" aria-controls="nav-column" aria-expanded="false" aria-label="Toggle navigation" href="#">
    <span class="navbar-toggler-icon"></span>
  </a>

  <div class="navbar-brand me-1 fw-slightly-bold">
    
    <a href="../index.html">
    
    RubyGateway 6.1.0 docs</a>
  </div>
  
  <span class="navbar-text j2-coverage fw-slightly-bold small d-none d-lg-inline-block me-2">(100% documented)</span>
  

  <div class="navbar-nav ms-auto justify-content-end flex-fill">

    
    <form class="d-none d-md-block my-auto pe-2 ps-2" role="search">
      <input class="form-control form-control-sm w-100" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="span">
    </form>
    

    

    
    <a class="nav-item nav-link d-none d-sm-inline" rel="external" href="https://github.com/johnfairh/RubyGateway">
      <svg class="j2-title-svg" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 16 16"><title>Open on GitHub</title><path fill="currentcolor" fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
      </svg>
    </a>
    
    
    
    

    
      <a class="nav-item nav-link d-none d-sm-inline" rel="alternate" href="dash-feed://https%3A%2F%2Fjohnfairh%2Egithub%2Eio%2FRubyGateway%2Fdocsets%2FRubyGateway%2Exml">
      <svg class="j2-title-svg" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 700 670">
        <title>Open in Dash</title>
        <path fill="currentcolor" d="m0 0 132.58 160.54h130.76v0.0312c63.501 0.196 140.87-6.9887 193.12 10.227 26.125 8.6076 43.475 19.899 57.578 40.781 14.103 20.882 26.733 55.737 25.781 118.52-0.8784 57.953-16.7 88.91-38.672 112.89-21.972 23.98-54.208 41.154-90.703 51.953-28.462 8.4219-55.314 10.153-80.547 11.953v-266.25h-160v419.92l71.328 7.8125s103.75 12.802 214.61-20c55.429-16.401 115.46-45.078 163.28-97.266 47.816-52.187 79.327-127.83 80.703-218.59 1.3028-85.935-16.743-156.6-53.125-210.47-36.382-53.871-89.369-86.47-140.16-103.2-50.787-16.733-101.87-18.272-145.08-18.504-43.211-0.2316-78.502 0.0768-97.578 0.0176v2e-3h-131.31z"/>
      </svg>
    </a>
    

    

  </div>
  </div>
</div>

<!-- narrow-style searchbar -->


<div class="container-fluid j2-titlebar d-md-none">
  <div class="row">
    <div class="col">
      <form class="pb-2">
        <input class="form-control form-control-sm" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="div">
      </form>
    </div>
  </div>
</div>


  <nav aria-label="breadcrumb" class="small">
  
  
    <ol class="breadcrumb j2-breadcrumb j2-swift">
      <li class="breadcrumb-item"><a href="../index.html">RubyGateway</a></li>
      
        
          <li class="breadcrumb-item"><a href="../main-apis.html?swift">Main APIs</a></li>
        
        
      
        
        
          <li class="breadcrumb-item" aria-current="page">RbGateway</li>
        
      
    </ol>
  
</nav>

  </header>

  <div class="container-fluid">
    <div class="row">
      <div class="col-auto d-none d-md-flex flex-column j2-nav" id="nav-column">
  
    <nav aria-label="Swift" class="j2-swift">
    <ul class="j2-nav-list">
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../guides.html?swift">Guides</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../guides/user-guide.html?swift">User Guide</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../guides/todo.html?swift">TODO</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../main-apis.html?swift">Main APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    
  <a class="j2-nav-item active" href="#" aria-current="page">RbGateway</a>



  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbgateway1/verbosity.html?swift">Verbosity</a>



  </li>
  
</ul>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbobject13.html?swift">RbObject</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbobjectaccess1.html?swift">RbObjectAccess</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbobjectcollection.html?swift">RbObjectCollection</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../swift-method-apis.html?swift">Swift Method APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbmethodargsspec.html?swift">RbMethodArgsSpec</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../swift-method-apis.html?swift#rbmethodcallback">RbMethodCallback</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../swift-method-apis.html?swift#rbboundmethodcallback">RbBoundMethodCallback</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../swift-method-apis.html?swift#rbboundmethodvoidcallback">RbBoundMethodVoidCallback</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbmethod.html?swift">RbMethod</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbmethodargs.html?swift">RbMethodArgs</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../other-apis.html?swift">Other APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../other-apis.html?swift#rbblockcallback">RbBlockCallback</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbblockretention.html?swift">RbBlockRetention</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbbreak.html?swift">RbBreak</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbproc.html?swift">RbProc</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbsymbol.html?swift">RbSymbol</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbthread.html?swift">RbThread</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbthread/unblockingfunc.html?swift">UnblockingFunc</a>



  </li>
  
</ul>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbtype.html?swift">RbType</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../error-handling.html?swift">Error Handling</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/rberror.html?swift">RbError</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/rberror/history.html?swift">History</a>



  </li>
  
</ul>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbexception.html?swift">RbException</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbfailableaccess.html?swift">RbFailableAccess</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../swift-interop.html?swift">Swift Interop</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbobjectconvertible.html?swift">RbObjectConvertible</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/string.html?swift">String</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/bool.html?swift">Bool</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/uint.html?swift">UInt</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/uint64.html?swift">UInt64</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/uint32.html?swift">UInt32</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/uint16.html?swift">UInt16</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/uint8.html?swift">UInt8</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/int.html?swift">Int</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/int64.html?swift">Int64</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/int32.html?swift">Int32</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/int16.html?swift">Int16</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/int8.html?swift">Int8</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/double.html?swift">Double</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/float.html?swift">Float</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/array.html?swift">Array</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/arrayslice.html?swift">ArraySlice</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/dictionary.html?swift">Dictionary</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/set.html?swift">Set</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/range.html?swift">Range</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../extensions/closedrange.html?swift">ClosedRange</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbcomplex.html?swift">RbComplex</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/rbrational.html?swift">RbRational</a>



  </li>
  
</ul>



      </li>
      
    </ul>
  </nav>
  
</div>

      <main class="col col-xl-8 j2-article px-lg-4 px-xl-5" id="article-column">
        <article class="j2-article-wrapper" id="main-content">

        <section>
          
          <header>
            <h1 class="j2-anchor">
              
              
              <span>RbGateway</span>
              
            </h1>
          </header>
          
          
          
          <div class="j2-callout  j2-callout-declaration">
            
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public final class RbGateway: <a href="../types/rbobjectaccess1.html?swift">RbObjectAccess</a>, <a href="https://developer.apple.com/documentation/swift/sendable?language=swift">Sendable</a></code></pre>
  </div>



          </div>

          <div class="clearfix">
            
  


            


<p>Provides top-level Ruby services: information about the Ruby VM, evaluate
expressions, access various kinds of Ruby objects, and define new Ruby
classes, modules, and functions.</p>
<p>You cannot instantiate this type.  Instead RubyGateway exports a public
instance <code>Ruby</code>.  Among other things this permits a dynamic member lookup
programming style.</p>
<p>The Ruby VM is initialized when the object is first accessed and is
automatically stopped when the process ends.  The VM can be manually shut
down before process exit by calling <a href="../types/rbgateway1.html?swift#cleanup"><code>RbGateway.cleanup()</code></a> but once this has
been done the VM cannot be restarted and subsequent calls to RubyGateway
services will fail.</p>
<p>The loadpath (where <code>require</code> looks) is set to the <code>lib/ruby</code> directories
adjacent to the <code>libruby</code> the program is linked against and <code>$RUBYLIB</code>.
RubyGems are enabled.</p>
<h2 class="j2-anchor j2-heading heading" id="accessing-ruby-objects">
<span data-anchor-id="accessing-ruby-objects">
Accessing Ruby objects
</span></h2>
<p>The class inherits from <a href="../types/rbobjectaccess1.html?swift"><code>RbObjectAccess</code></a> which lets you look up constants
or call functions as you would at the top level of a Ruby script, for example:</p>
<pre><code class="language-swift">import RubyGateway

print(&quot;Ruby version is \(Ruby.version)&quot;)

do {
   try Ruby.require(filename: &quot;rouge&quot;)
   let html = try Ruby.get(&quot;Rouge&quot;).call(&quot;highlight&quot;, args: [&quot;let a = 1&quot;, &quot;swift&quot;, &quot;html&quot;])
} catch {
}
</code></pre>
<p>If you just want to create a Ruby object of some class, see
<a href="../types/rbobject13.html?swift#initofclassargskwargs"><code>RbObject.init(ofClass:args:kwArgs:)</code></a>.</p>
<h2 class="j2-anchor j2-heading heading" id="running-ruby-code">
<span data-anchor-id="running-ruby-code">
Running Ruby code
</span></h2>
<p>Use <a href="../types/rbgateway1.html?swift#evalruby"><code>RbGateway.eval(ruby:)</code></a> to evaulate a Ruby expression in the current VM.
For example:</p>
<pre><code class="language-swift">let result = try Ruby.eval(ruby: &quot;Rouge.highlight('let a = 1', 'swift', 'html')&quot;)
</code></pre>
<h2 class="j2-anchor j2-heading heading" id="defining-new-ruby-classes">
<span data-anchor-id="defining-new-ruby-classes">
Defining new Ruby classes
</span></h2>
<p>Use <a href="../types/rbgateway1.html?swift#defineclass_parentunder"><code>RbGateway.defineClass(_:parent:under:)</code></a> and <a href="../types/rbgateway1.html?swift#definemodule_under"><code>RbGateway.defineModule(_:under:)</code></a>
to define new classes and modules.  Then add methods using <a href="../types/rbobject13.html?swift#definemethod_argsspecmethod1"><code>RbObject.defineMethod(...)</code></a>
and <a href="../types/rbobject13.html?swift#definesingletonmethod_argsspecbody"><code>RbObject.defineSingletonMethod(...)</code></a>.</p>



            



          </div>
          
          
          <nav aria-label="item details" class="j2-main-item-nav">
            <a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L61-L170">Show on GitHub</a>
          </nav>
          
          
        </section>

        
<div class="j2-swift">
<hr/>
<section>
  <h1 class="visually-hidden">Topics</h1>
  
  <section class="j2-swift">
  
  
  
  
  
    <section id="cleanup" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20cleanup()%20-%3E%20Int32" class="dashAnchor j2-item-dash-anchor" data-item-id="cleanup"></a>
    <h4 class="visually-hidden">func cleanup() -&gt; Int32</h4>
    
    
    <a class="j2-item-title" href="#_cleanup" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_cleanup"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>cleanup<span class="j2-item-secondary">() -&gt; Int32</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_cleanup">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Explicitly shut down Ruby and release resources.
This includes calling <code>END{}</code> code and procs registered by <code>Kernel.#at_exit</code>.</p>
<p>You generally don’t need to call this: it happens automatically as part of
process exit.</p>
<p>Once called you cannot continue to use Ruby in this process: the VM cannot
be re-setup.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public func cleanup() -&gt; <a href="../extensions/int32.html?swift">Int32</a></code></pre>
  </div>



            </div>
            


  <h5>Return Value</h5>
  <p>0 if the cleanup went fine, otherwise some error code from Ruby.</p>


          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L89-L91">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="getidfor" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20getID(for%3A%20String)%20-%3E%20RbObject.VALUE" class="dashAnchor j2-item-dash-anchor" data-item-id="getidfor"></a>
    <h4 class="visually-hidden">func getID(for: String) -&gt; RbObject.VALUE</h4>
    
    
    <a class="j2-item-title" href="#_getidfor" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_getidfor"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>getID<span class="j2-item-secondary">(</span>for<span class="j2-item-secondary">: String) -&gt; RbObject.VALUE</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_getidfor">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Get an <code>ID</code> ready to call a method, for example.</p>
<p>This is public to permit interop with <code>CRuby</code>.  It is not
needed for regular RubyGateway use.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public func getID(for name: <a href="../extensions/string.html?swift">String</a>) throws -&gt; RbObject.VALUE</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>name</code></td>
        <td><p>Name to look up, typically constant or method name.</p></td>
      </tr>
      
    </tbody>
  </table>


  <h5>Throws</h5>
  <p><a href="../types/rberror.html?swift#rubyexception_"><code>RbError.rubyException(_:)</code></a> if Ruby raises an exception.  This
probably means the <code>ID</code> space is full, which is fairly unlikely.</p>


  <h5>Return Value</h5>
  <p>The corresponding ID.</p>


          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L102-L104">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="softsetup" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20softSetup()%20-%3E%20Bool" class="dashAnchor j2-item-dash-anchor" data-item-id="softsetup"></a>
    <h4 class="visually-hidden">func softSetup() -&gt; Bool</h4>
    
    
    <a class="j2-item-title" href="#_softsetup" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_softsetup"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>softSetup<span class="j2-item-secondary">() -&gt; Bool</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_softsetup">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Attempt to initialize Ruby but swallow any error.</p>
<p>This is for use from places that could be the first use of Ruby but it
is not practical to throw an exception for API or aesthetic reasons.</p>
<p>The idea is that callers can get by long enough for the user to call
<code>require()</code> or <code>send()</code> which will properly report the VM setup error.</p>
<p>This is public to let you implement <a href="../types/rbobjectconvertible.html?swift#rubyobject1"><code>RbObjectConvertible.rubyObject</code></a> for
custom types.  It is not required for regular RubyGateway use.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public func softSetup() -&gt; <a href="../extensions/bool.html?swift">Bool</a></code></pre>
  </div>



            </div>
            



          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L116-L121">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
</section>

  
  <section class="j2-swift">
  
  <a name="//apple_ref/cpp/Section/Top%20Self%20Instance%20Variables" class="dashAnchor"></a>
  <h3 class="j2-anchor" id="tpc-top-self-instance-variables">
    <span data-anchor-id="tpc-top-self-instance-variables">Top Self Instance Variables</span>
  </h3>
  
  
  
  
  
    <section id="getinstancevar_1" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20getInstanceVar(String)%20-%3E%20RbObject" class="dashAnchor j2-item-dash-anchor" data-item-id="getinstancevar_1"></a>
    <h4 class="visually-hidden">func getInstanceVar(String) -&gt; RbObject</h4>
    
    
    <a class="j2-item-title" href="#_getinstancevar_1" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_getinstancevar_1"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>getInstanceVar<span class="j2-item-secondary">(String) -&gt; RbObject</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_getinstancevar_1">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Get the value of a top-level instance variable.  Creates a new one with a <code>nil</code>
value if it doesn’t exist yet.</p>
<p>This is like doing <code>@f</code> at the top level of a Ruby script.</p>
<p>For a version that does not throw, see <a href="../types/rbobjectaccess1.html?swift#failable"><code>RbObjectAccess.failable</code></a>.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public override func getInstanceVar(_ name: <a href="../extensions/string.html?swift">String</a>) throws -&gt; <a href="../types/rbobject13.html?swift">RbObject</a></code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>name</code></td>
        <td><p>Name of IVar to get.  Must begin with a single ‘@’.</p></td>
      </tr>
      
    </tbody>
  </table>


  <h5>Throws</h5>
  <p><a href="../types/rberror.html?swift#badidentifiertypeid"><code>RbError.badIdentifier(type:id:)</code></a> if <code>name</code> looks wrong.
<a href="../types/rberror.html?swift#rubyexception_"><code>RbError.rubyException(_:)</code></a> if Ruby has a problem.</p>


  <h5>Return Value</h5>
  <p>Value of the IVar or Ruby <code>nil</code> if it has not been assigned yet.</p>


          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L143-L147">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="setinstancevar_newvalue1" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20setInstanceVar(String,%20newValue%3A%20(any%20RbObjectConvertible)%3F)%20-%3E%20RbObject" class="dashAnchor j2-item-dash-anchor" data-item-id="setinstancevar_newvalue1"></a>
    <h4 class="visually-hidden">func setInstanceVar(String, newValue: (any RbObjectConvertible)?) -&gt; RbObject</h4>
    
    
    <a class="j2-item-title" href="#_setinstancevar_newvalue1" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_setinstancevar_newvalue1"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>setInstanceVar<span class="j2-item-secondary">(String, </span>newValue<span class="j2-item-secondary">: (any RbObjectConvertible)?) -&gt; RbObject</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_setinstancevar_newvalue1">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Set a top-level instance variable.  Creates a new one if it doesn’t exist yet.</p>
<p>This is like doing <code>@f = 3</code> at the top level of a Ruby script.</p>
<p>For a version that does not throw, see <a href="../types/rbobjectaccess1.html?swift#failable"><code>RbObjectAccess.failable</code></a>.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">@discardableResult
public override func setInstanceVar(
    _ name: <a href="../extensions/string.html?swift">String</a>, newValue: (any <a href="../types/rbobjectconvertible.html?swift">RbObjectConvertible</a>)?
) throws -&gt; <a href="../types/rbobject13.html?swift">RbObject</a></code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>name</code></td>
        <td><p>Name of IVar to set.  Must begin with a single ‘@’.</p></td>
      </tr>
      
      <tr>
        <td><code>newValue</code></td>
        <td><p>New value to set.</p></td>
      </tr>
      
    </tbody>
  </table>


  <h5>Throws</h5>
  <p><a href="../types/rberror.html?swift#badidentifiertypeid"><code>RbError.badIdentifier(type:id:)</code></a> if <code>name</code> looks wrong.
<a href="../types/rberror.html?swift#rubyexception_"><code>RbError.rubyException(_:)</code></a> if Ruby has a problem.</p>


  <h5>Return Value</h5>
  <p>The value that was set.</p>


          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L161-L169">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
</section>

  
  <section class="j2-swift">
  
  <a name="//apple_ref/cpp/Section/Defining%20New%20Classes%20and%20Modules" class="dashAnchor"></a>
  <h3 class="j2-anchor" id="tpc-defining-new-classes-and-modules">
    <span data-anchor-id="tpc-defining-new-classes-and-modules">Defining New Classes and Modules</span>
  </h3>
  
  
  
  
  
    <section id="defineclass_parentunder" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20defineClass(String,%20parent%3A%20RbObject%3F,%20under%3A%20RbObject%3F)%20-%3E%20RbObject" class="dashAnchor j2-item-dash-anchor" data-item-id="defineclass_parentunder"></a>
    <h4 class="visually-hidden">func defineClass(String, parent: RbObject?, under: RbObject?) -&gt; RbObject</h4>
    
    
    <a class="j2-item-title" href="#_defineclass_parentunder" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_defineclass_parentunder"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>defineClass<span class="j2-item-secondary">(String, </span>parent<span class="j2-item-secondary">: RbObject?, </span>under<span class="j2-item-secondary">: RbObject?) -&gt; RbObject</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_defineclass_parentunder">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Define a new, empty, Ruby class.</p>




            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">@discardableResult
public func defineClass(
    _ name: <a href="../extensions/string.html?swift">String</a>, parent: <a href="../types/rbobject13.html?swift">RbObject</a>? = nil, under: <a href="../types/rbobject13.html?swift">RbObject</a>? = nil
) throws -&gt; <a href="../types/rbobject13.html?swift">RbObject</a></code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>name</code></td>
        <td><p>Name of the class.</p></td>
      </tr>
      
      <tr>
        <td><code>parent</code></td>
        <td><p>Parent class for the new class to inherit from.  The default
is <code>nil</code> which means the new class inherits from <code>Object</code>.</p></td>
      </tr>
      
      <tr>
        <td><code>under</code></td>
        <td><p>The class or module under which to nest this new class.  The
default is <code>nil</code> which means the class is at the top level.</p></td>
      </tr>
      
    </tbody>
  </table>


  <h5>Throws</h5>
  <p><a href="../types/rberror.html?swift#badidentifiertypeid"><code>RbError.badIdentifier(type:id:)</code></a> if <code>name</code> is bad.  <a href="../types/rberror.html?swift#badtype_"><code>RbError.badType(...)</code></a> if
<code>parent</code> is provided but is not a class, or if <code>under</code> is neither class nor
module. <a href="../types/rberror.html?swift#rubyexception_"><code>RbError.rubyException(...)</code></a> if Ruby is unhappy with the definition,
for example when the class already exists with a different parent.</p>


  <h5>Return Value</h5>
  <p>The class object for the new class.</p>


          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbClass.swift#L121-L137">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="defineclass_underinitializer" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20defineClass%3CSwiftPeer%3E(String,%20under%3A%20RbObject%3F,%20initializer%3A%20()%20-%3E%20SwiftPeer)%20-%3E%20RbObject" class="dashAnchor j2-item-dash-anchor" data-item-id="defineclass_underinitializer"></a>
    <h4 class="visually-hidden">func defineClass&lt;SwiftPeer&gt;(String, under: RbObject?, initializer: () -&gt; SwiftPeer) -&gt; RbObject</h4>
    
    
    <a class="j2-item-title" href="#_defineclass_underinitializer" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_defineclass_underinitializer"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>defineClass<span class="j2-item-secondary">&lt;SwiftPeer&gt;(String, </span>under<span class="j2-item-secondary">: RbObject?, </span>initializer<span class="j2-item-secondary">: () -&gt; SwiftPeer) -&gt; RbObject</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_defineclass_underinitializer">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Define a new, empty, Ruby class associated with a Swift class.</p>
<p>The Ruby class inherits from the Ruby <a href="https://developer.apple.com/documentation/foundation/data?language=swift" class="j2-swift"><code>Data</code></a><a href="https://developer.apple.com/documentation/foundation/data?language=objc" class="j2-objc j2-secondary"><code>Data</code></a> class.</p>
<p>When any new instance of the Ruby class is created, the <code>initializer</code> closure
is called to get hold of an instance of the bound Swift class.  Typically this closure
is an initializer for the Swift class.  A strong reference is held to the Swift object
while the Ruby object is live; this reference is released only when the Ruby object is
garbage-collected.</p>
<p>If you want to implement the Ruby <code>initialize</code> entrypoint to support passing arguments
to <code>new</code> then you need to do that separately with one of the
<a href="../types/rbobject13.html?swift#definemethod_argsspecmethod1"><code>RbObject.defineMethod(_:argsSpec:method:)</code></a> methods.</p>
<p>Ruby methods defined with <a href="../types/rbobject13.html?swift#definemethod_argsspecmethod1"><code>RbObject.defineMethod(_:argsSpec:method:)</code></a> can be bound
directly to methods of the <code>SwiftPeer</code> class.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">@discardableResult
public func defineClass&lt;SwiftPeer: <a href="https://developer.apple.com/documentation/swift/anyobject?language=swift">AnyObject</a> &amp; <a href="https://developer.apple.com/documentation/swift/sendable?language=swift">Sendable</a>&gt;(
    _ name: <a href="../extensions/string.html?swift">String</a>,
    under: <a href="../types/rbobject13.html?swift">RbObject</a>? = nil,
    initializer: @escaping () -&gt; SwiftPeer
) throws -&gt; <a href="../types/rbobject13.html?swift">RbObject</a></code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>name</code></td>
        <td><p>Name of the class.</p></td>
      </tr>
      
      <tr>
        <td><code>under</code></td>
        <td><p>The class or module under which to nest this new class.  The
default is <code>nil</code> which means the class is at the top level.</p></td>
      </tr>
      
      <tr>
        <td><code>initializer</code></td>
        <td><p>Closure to return an instance of <code>SwiftPeer</code>, typically a new
instance.</p></td>
      </tr>
      
    </tbody>
  </table>


  <h5>Throws</h5>
  <p><a href="../types/rberror.html?swift#badidentifiertypeid"><code>RbError.badIdentifier(type:id:)</code></a> if <code>name</code> is bad.  <a href="../types/rberror.html?swift#badtype_"><code>RbError.badType(...)</code></a> if
<code>parent</code> is provided but is not a class, or if <code>under</code> is neither class nor
module. <a href="../types/rberror.html?swift#rubyexception_"><code>RbError.rubyException(...)</code></a> if Ruby is unhappy with the definition,
for example when the class already exists with a different parent.</p>


  <h5>Return Value</h5>
  <p>The class object for the new class.</p>


          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbClass.swift#L167-L181">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="definemodule_under" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20defineModule(String,%20under%3A%20RbObject%3F)%20-%3E%20RbObject" class="dashAnchor j2-item-dash-anchor" data-item-id="definemodule_under"></a>
    <h4 class="visually-hidden">func defineModule(String, under: RbObject?) -&gt; RbObject</h4>
    
    
    <a class="j2-item-title" href="#_definemodule_under" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_definemodule_under"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>defineModule<span class="j2-item-secondary">(String, </span>under<span class="j2-item-secondary">: RbObject?) -&gt; RbObject</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_definemodule_under">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Define a new, empty, Ruby module.</p>
<p>For example to create a module <code>Math::Advanced</code>:</p>
<pre><code class="language-swift">let mathModule = try Ruby.get(&quot;Math&quot;)
let advancedMathModule = try Ruby.defineModule(name: &quot;Advanced&quot;, under: mathModule)
</code></pre>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">@discardableResult
public func defineModule(_ name: <a href="../extensions/string.html?swift">String</a>, under: <a href="../types/rbobject13.html?swift">RbObject</a>? = nil) throws
    -&gt; <a href="../types/rbobject13.html?swift">RbObject</a></code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>name</code></td>
        <td><p>Name of the module.</p></td>
      </tr>
      
      <tr>
        <td><code>under</code></td>
        <td><p>The class or module under which to nest this new module.</p></td>
      </tr>
      
    </tbody>
  </table>


  <h5>Throws</h5>
  <p><a href="../types/rberror.html?swift#badidentifiertypeid"><code>RbError.badIdentifier(type:id:)</code></a> if <code>name</code> is bad.  <a href="../types/rberror.html?swift#badtype_"><code>RbError.badType(...)</code></a>
if <code>under</code> is neither class nor module.  <a href="../types/rberror.html?swift#rubyexception_"><code>RbError.rubyException(...)</code></a> if
Ruby is unhappy with the definition, for example when a non-module constant
already exists with this name.</p>


  <h5>Return Value</h5>
  <p>The module object for the new module.</p>


          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbClass.swift#L199-L211">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
</section>

  
  <section class="j2-swift">
  
  <a name="//apple_ref/cpp/Section/VM%20Properties" class="dashAnchor"></a>
  <h3 class="j2-anchor" id="tpc-vm-properties">
    <span data-anchor-id="tpc-vm-properties">VM Properties</span>
  </h3>
  
  
  
  
  
    <section id="debug" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Property/var%20debug%3A%20Bool" class="dashAnchor j2-item-dash-anchor" data-item-id="debug"></a>
    <h4 class="visually-hidden">var debug: Bool</h4>
    
    
    <a class="j2-item-title" href="#_debug" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_debug"><code>
        <span class="j2-swift"><span class="j2-item-secondary">var </span>debug<span class="j2-item-secondary">: Bool</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_debug">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Debug mode for Ruby code, sets <code>$DEBUG</code> / <code>$-d</code>.</p>




            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public var debug: <a href="../extensions/bool.html?swift">Bool</a> { get set }</code></pre>
  </div>



            </div>
            



          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L176-L191">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="verbosity" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/enum/enum%20Verbosity" class="dashAnchor j2-item-dash-anchor" data-item-id="verbosity"></a>
    <h4 class="visually-hidden">enum Verbosity</h4>
    
    
    <a class="j2-item-title" href="#_verbosity" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_verbosity"><code>
        <span class="j2-swift"><span class="j2-item-secondary">enum </span>Verbosity</span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_verbosity">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Verbosity setting for Ruby scripts - affects <code>Kernel#warn</code> etc.</p>




            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public enum Verbosity</code></pre>
  </div>



            </div>
            



          

          <nav class="j2-item-nav" aria-label="item details">
            
            <span class="j2-item-nav-item">
            
              <span class="j2-swift"><a href="../types/rbgateway1/verbosity.html?swift">Show members</a></span>
            
            
            </span>
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L194-L201">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="verbose" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Property/var%20verbose%3A%20Verbosity" class="dashAnchor j2-item-dash-anchor" data-item-id="verbose"></a>
    <h4 class="visually-hidden">var verbose: Verbosity</h4>
    
    
    <a class="j2-item-title" href="#_verbose" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_verbose"><code>
        <span class="j2-swift"><span class="j2-item-secondary">var </span>verbose<span class="j2-item-secondary">: Verbosity</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_verbose">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Verbose mode for Ruby code, sets <code>$VERBOSE</code> / <code>$-v</code>.</p>




            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public var verbose: <a href="../types/rbgateway1/verbosity.html?swift">Verbosity</a> { get set }</code></pre>
  </div>



            </div>
            



          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L204-L228">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="scriptname" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Property/var%20scriptName%3A%20String" class="dashAnchor j2-item-dash-anchor" data-item-id="scriptname"></a>
    <h4 class="visually-hidden">var scriptName: String</h4>
    
    
    <a class="j2-item-title" href="#_scriptname" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_scriptname"><code>
        <span class="j2-swift"><span class="j2-item-secondary">var </span>scriptName<span class="j2-item-secondary">: String</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_scriptname">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Value of Ruby <code>$PROGRAM_NAME</code> / <code>$0</code>.</p>




            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public var scriptName: <a href="../extensions/string.html?swift">String</a> { get set }</code></pre>
  </div>



            </div>
            



          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L231-L246">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="apiversion" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Property/var%20apiVersion%3A%20(Int32,%20Int32,%20Int32)" class="dashAnchor j2-item-dash-anchor" data-item-id="apiversion"></a>
    <h4 class="visually-hidden">var apiVersion: (Int32, Int32, Int32)</h4>
    
    
    <a class="j2-item-title" href="#_apiversion" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_apiversion"><code>
        <span class="j2-swift"><span class="j2-item-secondary">var </span>apiVersion<span class="j2-item-secondary">: (Int32, Int32, Int32)</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_apiversion">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>The component major/minor/teeny version numbers of Ruby being used.</p>




            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public var apiVersion: (<a href="../extensions/int32.html?swift">Int32</a>, <a href="../extensions/int32.html?swift">Int32</a>, <a href="../extensions/int32.html?swift">Int32</a>) { get }</code></pre>
  </div>



            </div>
            



          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L249-L251">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="version" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Property/var%20version%3A%20String" class="dashAnchor j2-item-dash-anchor" data-item-id="version"></a>
    <h4 class="visually-hidden">var version: String</h4>
    
    
    <a class="j2-item-title" href="#_version" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_version"><code>
        <span class="j2-swift"><span class="j2-item-secondary">var </span>version<span class="j2-item-secondary">: String</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_version">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>The version number triple of Ruby being used, for example <em>2.5.0</em>.</p>




            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public var version: <a href="../extensions/string.html?swift">String</a> { get }</code></pre>
  </div>



            </div>
            



          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L254-L256">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="versiondescription" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Property/var%20versionDescription%3A%20String" class="dashAnchor j2-item-dash-anchor" data-item-id="versiondescription"></a>
    <h4 class="visually-hidden">var versionDescription: String</h4>
    
    
    <a class="j2-item-title" href="#_versiondescription" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_versiondescription"><code>
        <span class="j2-swift"><span class="j2-item-secondary">var </span>versionDescription<span class="j2-item-secondary">: String</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_versiondescription">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>The full version string for the Ruby being used.</p>
<p>For example <em>ruby 2.5.0p0 (2017-12-25 revision 61468) [x86_64-darwin17]</em>.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public var versionDescription: <a href="../extensions/string.html?swift">String</a> { get }</code></pre>
  </div>



            </div>
            



          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L261-L263">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="setarguments_" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20setArguments(%5BString%5D)" class="dashAnchor j2-item-dash-anchor" data-item-id="setarguments_"></a>
    <h4 class="visually-hidden">func setArguments([String])</h4>
    
    
    <a class="j2-item-title" href="#_setarguments_" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_setarguments_"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>setArguments<span class="j2-item-secondary">([String])</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_setarguments_">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Set the program arguments for the Ruby VM.</p>
<p>Updates the <code>ARGV</code> constant.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public func setArguments(_ newArgv: [<a href="../extensions/string.html?swift">String</a>]) throws</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>newArgv</code></td>
        <td><p>The strings to make up the new version of <code>ARGV</code>.</p></td>
      </tr>
      
    </tbody>
  </table>


  <h5>Throws</h5>
  <p>Various <a href="../types/rberror.html?swift"><code>RbError</code></a>s if the arguments can’t be set.</p>



          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L271-L278">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
</section>

  
  <section class="j2-swift">
  
  <a name="//apple_ref/cpp/Section/Ruby%20Code%20Execution" class="dashAnchor"></a>
  <h3 class="j2-anchor" id="tpc-ruby-code-execution">
    <span data-anchor-id="tpc-ruby-code-execution">Ruby Code Execution</span>
  </h3>
  
  
  
  
  
    <section id="evalruby" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20eval(ruby%3A%20String)%20-%3E%20RbObject" class="dashAnchor j2-item-dash-anchor" data-item-id="evalruby"></a>
    <h4 class="visually-hidden">func eval(ruby: String) -&gt; RbObject</h4>
    
    
    <a class="j2-item-title" href="#_evalruby" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_evalruby"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>eval<span class="j2-item-secondary">(</span>ruby<span class="j2-item-secondary">: String) -&gt; RbObject</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_evalruby">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Evaluate some Ruby and return the result.</p>
<div class="j2-callout j2-callout-note aside aside-note">
<div class="j2-callout-title aside-title" role="heading" aria-level="6">note</div>
<p>This is a lower level than <code>Kernel#eval</code> and less flexible - if you
need that function then access it via <code>RbGateway.call(&quot;eval&quot;)</code>.
Don’t be tempted by <code>rb_eval_string_wrap()</code>, it is broken. #10466.</p>
</div>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">@discardableResult
public func eval(ruby: <a href="../extensions/string.html?swift">String</a>) throws -&gt; <a href="../types/rbobject13.html?swift">RbObject</a></code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>ruby</code></td>
        <td><p>Ruby code to execute at the top level.</p></td>
      </tr>
      
    </tbody>
  </table>


  <h5>Throws</h5>
  <p><a href="../types/rberror.html?swift"><code>RbError</code></a> if something goes wrong.</p>


  <h5>Return Value</h5>
  <p>The result of executing the code.</p>


          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L293-L298">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="requirefilename" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20require(filename%3A%20String)%20-%3E%20Bool" class="dashAnchor j2-item-dash-anchor" data-item-id="requirefilename"></a>
    <h4 class="visually-hidden">func require(filename: String) -&gt; Bool</h4>
    
    
    <a class="j2-item-title" href="#_requirefilename" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_requirefilename"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>require<span class="j2-item-secondary">(</span>filename<span class="j2-item-secondary">: String) -&gt; Bool</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_requirefilename">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Load a Ruby file once-only.  See <code>Kernel#require</code>, but note this
method is dispatched dynamically so it will invoke any replacements of
<code>require</code>.</p>




            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">@discardableResult
public func require(filename: <a href="../extensions/string.html?swift">String</a>) throws -&gt; <a href="../extensions/bool.html?swift">Bool</a></code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>filename</code></td>
        <td><p>The name of the file to load.</p></td>
      </tr>
      
    </tbody>
  </table>


  <h5>Throws</h5>
  <p><a href="../types/rberror.html?swift"><code>RbError</code></a> if something goes wrong.  This usually means that Ruby
couldn’t find the file.</p>


  <h5>Return Value</h5>
  <p><code>true</code> if the file was loaded OK, <code>false</code> if it is already loaded.</p>


          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L309-L313">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="loadfilenamewrap" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20load(filename%3A%20String,%20wrap%3A%20Bool)" class="dashAnchor j2-item-dash-anchor" data-item-id="loadfilenamewrap"></a>
    <h4 class="visually-hidden">func load(filename: String, wrap: Bool)</h4>
    
    
    <a class="j2-item-title" href="#_loadfilenamewrap" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_loadfilenamewrap"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>load<span class="j2-item-secondary">(</span>filename<span class="j2-item-secondary">: String, </span>wrap<span class="j2-item-secondary">: Bool)</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_loadfilenamewrap">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>See Ruby <code>Kernel#load</code>. Load a file, reloads if already loaded.</p>




            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public func load(filename: <a href="../extensions/string.html?swift">String</a>, wrap: <a href="../extensions/bool.html?swift">Bool</a> = false) throws</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>filename</code></td>
        <td><p>The name of the file to load</p></td>
      </tr>
      
      <tr>
        <td><code>wrap</code></td>
        <td><p>If <code>true</code>, load the file into a fresh anonymous namespace
instead of the current program.  See <code>Kernel#load</code>.</p></td>
      </tr>
      
    </tbody>
  </table>


  <h5>Throws</h5>
  <p><a href="../types/rberror.html?swift"><code>RbError</code></a> if something goes wrong.</p>



          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGateway.swift#L321-L328">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
</section>

  
  <section class="j2-swift">
  
  <a name="//apple_ref/cpp/Section/Swift%20Global%20Variables" class="dashAnchor"></a>
  <h3 class="j2-anchor" id="tpc-swift-global-variables">
    <span data-anchor-id="tpc-swift-global-variables">Swift Global Variables</span>
  </h3>
  
  
  
  
  
    <section id="defineglobalvar_get" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20defineGlobalVar%3CT%3E(String,%20get%3A%20()%20-%3E%20T)" class="dashAnchor j2-item-dash-anchor" data-item-id="defineglobalvar_get"></a>
    <h4 class="visually-hidden">func defineGlobalVar&lt;T&gt;(String, get: () -&gt; T)</h4>
    
    
    <a class="j2-item-title" href="#_defineglobalvar_get" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_defineglobalvar_get"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>defineGlobalVar<span class="j2-item-secondary">&lt;T&gt;(String, </span>get<span class="j2-item-secondary">: () -&gt; T)</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_defineglobalvar_get">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Create a readonly Ruby global variable implemented by Swift code.</p>
<p>If your global variable is not a simple Swift value type then use <a href="../types/rbobject13.html?swift"><code>RbObject</code></a>
as the closure return type.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public func defineGlobalVar&lt;T: <a href="../types/rbobjectconvertible.html?swift">RbObjectConvertible</a>&gt;(
    _ name: <a href="../extensions/string.html?swift">String</a>,
    get: @escaping <a href="https://developer.apple.com/documentation/swift/sendable?language=swift">@Sendable</a> () -&gt; T) throws</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>name</code></td>
        <td><p>The name of the global variable.  Must begin with <code>$</code>.  Any existing global
variable with this name is overwritten.</p></td>
      </tr>
      
      <tr>
        <td><code>get</code></td>
        <td><p>Function called whenever Ruby code reads the global variable.</p></td>
      </tr>
      
    </tbody>
  </table>


  <h5>Throws</h5>
  <p><a href="../types/rberror.html?swift#badidentifiertypeid"><code>RbError.badIdentifier(type:id:)</code></a> if <code>name</code> is bad; some other kind of error if Ruby is
not working.</p>



          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGlobalVar.swift#L97-L102">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="defineglobalvar_getset" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20defineGlobalVar%3CT%3E(String,%20get%3A%20()%20-%3E%20T,%20set%3A%20(T)%20-%3E%20Void)" class="dashAnchor j2-item-dash-anchor" data-item-id="defineglobalvar_getset"></a>
    <h4 class="visually-hidden">func defineGlobalVar&lt;T&gt;(String, get: () -&gt; T, set: (T) -&gt; Void)</h4>
    
    
    <a class="j2-item-title" href="#_defineglobalvar_getset" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_defineglobalvar_getset"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>defineGlobalVar<span class="j2-item-secondary">&lt;T&gt;(String, </span>get<span class="j2-item-secondary">: () -&gt; T, </span>set<span class="j2-item-secondary">: (T) -&gt; Void)</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_defineglobalvar_getset">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Create a read-write Ruby global variable implemented by Swift code.</p>
<p>Errors thrown from the setter closure propagate into Ruby as exceptions.  Ruby does
not permit getters to raise exceptions.</p>
<p>If your global variable is not a simple Swift value type then use <a href="../types/rbobject13.html?swift"><code>RbObject</code></a> as the
closure return/argument type; you can manually throw an <a href="../types/rbexception.html?swift"><code>RbException</code></a> from the setter
if the provided Ruby value is the wrong shape.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public func defineGlobalVar&lt;T: <a href="../types/rbobjectconvertible.html?swift">RbObjectConvertible</a>&gt;(
    _ name: <a href="../extensions/string.html?swift">String</a>,
    get: @escaping <a href="https://developer.apple.com/documentation/swift/sendable?language=swift">@Sendable</a> () -&gt; T,
    set: @escaping <a href="https://developer.apple.com/documentation/swift/sendable?language=swift">@Sendable</a> (T) throws -&gt; <a href="https://developer.apple.com/documentation/swift/void?language=swift">Void</a>) throws</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>name</code></td>
        <td><p>The name of the global variable.  Must begin with <code>$</code>.  Any existing global
variable with this name is overwritten.</p></td>
      </tr>
      
      <tr>
        <td><code>get</code></td>
        <td><p>Function called whenever Ruby code reads the global variable.</p></td>
      </tr>
      
      <tr>
        <td><code>set</code></td>
        <td><p>Function called whenever Ruby code writes the global variable.</p></td>
      </tr>
      
    </tbody>
  </table>


  <h5>Throws</h5>
  <p><a href="../types/rberror.html?swift#badidentifiertypeid"><code>RbError.badIdentifier(type:id:)</code></a> if <code>name</code> is bad; some other kind of error if Ruby is
not working.</p>



          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbGlobalVar.swift#L120-L126">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
</section>

  
  <section class="j2-swift">
  
  <a name="//apple_ref/cpp/Section/Swift%20Global%20Functions" class="dashAnchor"></a>
  <h3 class="j2-anchor" id="tpc-swift-global-functions">
    <span data-anchor-id="tpc-swift-global-functions">Swift Global Functions</span>
  </h3>
  
  
  
  
  
    <section id="defineglobalfunction_argsspecbody" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20defineGlobalFunction(String,%20argsSpec%3A%20RbMethodArgsSpec,%20body%3A%20RbMethodCallback)" class="dashAnchor j2-item-dash-anchor" data-item-id="defineglobalfunction_argsspecbody"></a>
    <h4 class="visually-hidden">func defineGlobalFunction(String, argsSpec: RbMethodArgsSpec, body: RbMethodCallback)</h4>
    
    
    <a class="j2-item-title" href="#_defineglobalfunction_argsspecbody" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_defineglobalfunction_argsspecbody"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>defineGlobalFunction<span class="j2-item-secondary">(String, </span>argsSpec<span class="j2-item-secondary">: RbMethodArgsSpec, </span>body<span class="j2-item-secondary">: RbMethodCallback)</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_defineglobalfunction_argsspecbody">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Define a global function that can use positional, keyword, and optional
arguments as well as splatting.  The function can also be passed a block.</p>
<p>Use the <a href="../types/rbmethod.html?swift"><code>RbMethod</code></a> passed into <code>body</code> to access the function arguments;
RubyBridge validates the arguments according to <code>argsSpec</code> before invoking
this callback.</p>
<p>The first parameter to the <code>body</code> callback is best ignored: it is the Ruby
internal object that is used to implement so-called “global functions”.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public func defineGlobalFunction(
    _ name: <a href="../extensions/string.html?swift">String</a>,
    argsSpec: <a href="../types/rbmethodargsspec.html?swift">RbMethodArgsSpec</a> = <a href="../types/rbmethodargsspec.html?swift">RbMethodArgsSpec</a>(),
    body: @escaping <a href="../swift-method-apis.html?swift#rbmethodcallback">RbMethodCallback</a>) throws</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>name</code></td>
        <td><p>The function name.</p></td>
      </tr>
      
      <tr>
        <td><code>argsSpec</code></td>
        <td><p>A description of the arguments required by the function.
The default for this parameter specifies a function that does not
take any arguments.</p></td>
      </tr>
      
      <tr>
        <td><code>body</code></td>
        <td><p>The Swift code to run when the function is called.</p></td>
      </tr>
      
    </tbody>
  </table>


  <h5>Throws</h5>
  <p><a href="../types/rberror.html?swift#badidentifiertypeid"><code>RbError.badIdentifier(type:id:)</code></a> if <code>name</code> is bad.</p>
<p>Some other kind of <a href="../types/rberror.html?swift"><code>RbError</code></a> if Ruby is not working.</p>



          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/main/Sources/RubyGateway/RbMethod.swift#L596-L602">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
</section>

  
</section>
</div>



        
        <div class="flex-grow-1"></div>
        <nav aria-label="paging" class="j2-pagination pb-3 pt-2">
  <div id="pagination-prev" class="flex-fill">
  
    <a class="j2-swift" href="../main-apis.html?swift" aria-keyshortcuts="p">
  <span aria-hidden="true">&laquo; </span>Main APIs
</a>

    <a class="j2-objc j2-secondary" href="../main-apis.html?swift" aria-keyshortcuts="p">
  <span aria-hidden="true">&laquo; </span>Main APIs
</a>

  
  
  </div>
  <div id="pagination-next" class="flex-fill text-end">
  
    <a class="j2-swift" href="../types/rbgateway1/verbosity.html?swift" aria-keyshortcuts="n">
  Verbosity<span aria-hidden="true"> &raquo;</span>
</a>

    <a class="j2-objc j2-secondary" href="../types/rbgateway1/verbosity.html?swift" aria-keyshortcuts="n">
  Verbosity<span aria-hidden="true"> &raquo;</span>
</a>

  
  
  </div>
</nav>

        

        </article>
      </main>

      <div class="col-xl d-none d-xl-block j2-aux-nav" id="aux-nav-column">
  <div class="j2-aux-nav-wrapper">
    
    <div class="j2-swift">
    <h6 class="j2-inline-heading">Topics</h6>
    <nav aria-label="page">
      <ul class="j2-aux-group">
        
        <li><a href="#">Declaration</a></li>
        
        <li><a href="#tpc-top-self-instance-variables">Top Self Instance Variables</a></li>
        
        <li><a href="#tpc-defining-new-classes-and-modules">Defining New Classes and Modules</a></li>
        
        <li><a href="#tpc-vm-properties">VM Properties</a></li>
        
        <li><a href="#tpc-ruby-code-execution">Ruby Code Execution</a></li>
        
        <li><a href="#tpc-swift-global-variables">Swift Global Variables</a></li>
        
        <li><a href="#tpc-swift-global-functions">Swift Global Functions</a></li>
        
      </ul>
    </nav>
    </div>
    
    
    <h6 class="j2-inline-heading">Actions</h6>
    <ul class="j2-aux-group">
      
      <li><a class="j2-aux-action" id="action-search" href="#" role="button" aria-keyshortcuts="/">Search (/)</a></li>
      
      
      
      <li><a class="j2-aux-action" id="action-collapse" href="#" role="button" aria-keyshortcuts="a">
          <span id="action-collapse-expand">Open all (a)</span>
          <span id="action-collapse-collapse" class="d-none">Close all (a)</span>
      </a></li>
      
      
      
    </ul>
    
  </div>
</div>


    </div> <!-- end row -->

    <footer class="row">
  <div class="col j2-footer small pt-2">
    <p>Distributed under the MIT license.  Maintained by <a href="mailto:johnfairh@gmail.com">John Fairhurst</a>.</p>
    
    <p>Generated by <a class="link" href="https://github.com/johnfairh/Bebop" target="_blank" rel="external noopener">Bebop v1.12.0</a> using the FW2020 theme, based on technology from <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫</a>.</p>
    
  </div>
</footer>

  </div> <!-- container -->

  <script src="../js/dependencies.min.js"></script>
  
  <script src="../js/fw2020.js"></script>
  </body>
</html>
